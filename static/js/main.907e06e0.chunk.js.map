{"version":3,"sources":["actions.js","challengesReducer.js","ChallengesContext.jsx","ChallengesList.jsx","Challenge.jsx","NewChallenge.jsx","App.js","index.js"],"names":["CREATE_CHALLENGE","TOGGLE_DAY","days","Object","fromEntries","Array","from","length","map","e","i","challengesReducer","state","action","type","newChallengeId","keys","name","payload","challengeId","day","challenge","updatedChallenge","ChallengesContext","React","createContext","ChallengesProvider","children","useReducer","JSON","parse","localStorage","getItem","challenges","dispatch","useEffect","setItem","stringify","Provider","value","createNewChallenge","createChallenge","toggleDayForChallenge","toggleDay","ChallengesList","useContext","id","to","Challenge","useParams","arr","size","Math","ceil","v","slice","row","onClick","style","cursor","NewChallenge","history","useHistory","onSubmit","event","preventDefault","target","push","htmlFor","required","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.907e06e0.chunk.js","sourcesContent":["export const CREATE_CHALLENGE = \"CREATE_CHALLENGE\";\r\nexport const TOGGLE_DAY = \"TOGGLE_DAY\";\r\n\r\nexport const toggleDay = (challengeId, day) => ({\r\n  type: TOGGLE_DAY,\r\n  payload: {challengeId, day}\r\n})\r\n\r\nexport const createChallenge = (name) => ({ type: CREATE_CHALLENGE, payload: {name} })","import {CREATE_CHALLENGE, TOGGLE_DAY} from './actions'\r\n\r\nconst COMPLETED = \"▣\";\r\nconst EMPTY = \"▢\";\r\n\r\nconst days = Object.fromEntries(\r\n  Array.from({ length: 30 }, () => EMPTY).map((e, i) => [i, e])\r\n)\r\n\r\nexport const challengesReducer = (state = {}, action) => {\r\n  switch(action.type){\r\n    case CREATE_CHALLENGE: {\r\n      const newChallengeId = Object.keys(state).length;\r\n      const {name} = action.payload;\r\n      return {...state, ...{ [newChallengeId]: {name, days} }}\r\n    }\r\n    case TOGGLE_DAY: {\r\n      const { challengeId, day } = action.payload;\r\n      const challenge = state[challengeId]\r\n      const updatedChallenge = {\r\n        ...challenge,\r\n        days: { ...challenge.days, ...{ [day]: COMPLETED } }\r\n      }\r\n      return {\r\n        ...state,\r\n        ...{ [challengeId]: updatedChallenge }\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}","import React, { useReducer, useEffect } from \"react\";\r\nimport { challengesReducer } from \"./challengesReducer\";\r\nimport { toggleDay, createChallenge } from \"./actions\";\r\n\r\nexport const ChallengesContext = React.createContext();\r\n\r\nexport const ChallengesProvider = ({ children }) => {\r\n  const [challenges, dispatch] = useReducer(challengesReducer,\r\n    JSON.parse(localStorage.getItem(\"challenges\") || \"{}\")\r\n    );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"challenges\", JSON.stringify(challenges))\r\n  }, [challenges])\r\n\r\n  const createNewChallenge = (name) => {\r\n    dispatch(createChallenge(name));\r\n  };\r\n\r\n  const toggleDayForChallenge = (challengeId, day) => {\r\n    dispatch(toggleDay(challengeId, day));\r\n  };\r\n\r\n  return (\r\n    <ChallengesContext.Provider\r\n      value={{ createNewChallenge, toggleDayForChallenge, challenges }}\r\n    >\r\n      {children}\r\n    </ChallengesContext.Provider>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ChallengesContext } from \"./ChallengesContext\";\r\n\r\nexport const ChallengesList = () => {\r\n  const {challenges} = useContext(ChallengesContext);\r\n\r\n  return (\r\n    <main>\r\n      <section>\r\n        <aside>\r\n          <h2>Challenges</h2>\r\n          <ul>\r\n            {Object.keys(challenges).map((id) => (\r\n              <li key={id}>\r\n                <Link to={`/challenge/${id}`}>{challenges[id].name}</Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <Link to=\"/new-challenge\">\r\n            <b>Create New Challenge</b>\r\n          </Link>\r\n        </aside>\r\n      </section>\r\n    </main>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport { ChallengesContext } from \"./ChallengesContext\";\r\nimport { useParams, Redirect, Link } from \"react-router-dom\";\r\n\r\nconst chunk = (arr, size) => {\r\n  return Array.from({ length: Math.ceil(arr.length / size) }, (v, i) =>\r\n    arr.slice(i * size, i * size + size)\r\n  );\r\n};\r\n\r\nexport const Challenge = () => {\r\n  const { challenges, toggleDayForChallenge } = useContext(ChallengesContext);\r\n\r\n  const { challengeId } = useParams();\r\n\r\n  if (!challenges || !challenges[challengeId]) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  const challenge = challenges[challengeId];\r\n\r\n  const { days } = challenge;\r\n\r\n  return (\r\n    <main>\r\n      <section>\r\n        <header>\r\n          <h1>Challenge</h1>\r\n          <p>{challenge.name}</p>\r\n          <p>\r\n            <Link to=\"/\">Back to challenges list</Link>\r\n          </p>\r\n        </header>\r\n        <table>\r\n        <tbody>\r\n            {chunk(Object.keys(days), 5).map((row) => (\r\n              <tr key={row}>\r\n                {row.map((day) => (\r\n                  <td\r\n                    key={day}\r\n                    onClick={() => {\r\n                      toggleDayForChallenge(challengeId, day);\r\n                    }}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    {days[day]}\r\n                  </td>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n    </main>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport {ChallengesContext} from './ChallengesContext'\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nexport const NewChallenge = () => {\r\n  const {createNewChallenge } = useContext(ChallengesContext)\r\n  const history = useHistory()\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n    const name = event.target.challenge.value;\r\n    createNewChallenge(name)\r\n    history.push(\"/\")\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <section>\r\n        <form onSubmit={onSubmit}>\r\n          <p>\r\n            <Link to=\"/\">Back to challenges list</Link>\r\n          </p>\r\n          <label htmlFor=\"challenge\">Challenge title:</label>\r\n          <input required name=\"challenge\" type=\"text\" />\r\n          <button>Create challenge</button>\r\n        </form>\r\n      </section>\r\n    </main>\r\n  );\r\n};","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport {ChallengesList} from './ChallengesList'\nimport {Challenge} from './Challenge'\nimport {NewChallenge} from './NewChallenge'\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path=\"/challenge/:challengeId\" component={Challenge}/>\n      <Route path=\"/new-challenge\" component={NewChallenge}/>\n      <Route exact path=\"/\" component={ChallengesList}/>\n    </Switch>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./mvp.css\";\nimport App from \"./App\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport { ChallengesProvider } from \"./ChallengesContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChallengesProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ChallengesProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}